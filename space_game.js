/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: Second Game
@author: 
@tags: []
@addedOn: 2024-00-00
*/

const player = "p"
const space = "s";
const cargo = "c";

setLegend(
  [ player, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000660000000
0000005555000000
0000055335500000
0000553773550000
0005577777755000
0055577007755500
0065570330755600
0000003333000000
0000000990000000
0000009..9000000
0000090990900000
0000000000000000
0000000000000000` ],
  [space, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0002000000000000
0000000000000000
0000000000002000
0000000000000000
0000002000000000
0000000000000000
0000000000000000
0000000000000000
0000000000020000
0000000000000000
0000000000000000
0000000000000000`],
  [cargo, bitmap`
0000000000000000
0000000000000000
0055555555555500
0057777777777500
005733C7733C7500
005733C7733C7500
005733C7733C7500
005733C7733C7500
005733C7733C7500
0057777777777500
005733C7733C7500
005733C7733C7500
0057777777777500
0055555555555500
0000000000000000
0000000000000000`]
)

setSolids([])

let level = 0
const levels = [
  map`
sssss
sssss
sssss
sssss
sssss
sspss`
]

setMap(levels[level])

setPushables({
  [ player ]: []
})

onInput("s", () => {
  getFirst(player).y += 1
})

onInput("a", () => {
  getFirst(player).x -= 1;
});

onInput("d", () => {
  getFirst(player).x += 1;
});

afterInput(() => {
  for(let i = 0; i < levels[0].length; i++) {
    if (levels[0][i] === '.') levels[0][i] = 's';
  }
})